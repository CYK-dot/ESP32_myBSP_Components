# ESP32_myBSP_Components
基于自己画的ESP32板子编写的BSP组件，方便在业余时间做一些小项目，保持嵌入式的趣味性，剔除排查问题和重写代码的枯燥。

# 代码分层和命名规则

## 抽象逻辑
- IDF：外设一次抽象，不假定任何用户的使用场景。
- 功能驱动层：外设二次抽象，假定我的小项目使用场景。
- BSP层的板载外设接口：硬件抽象，不假定如何使用这张开发板。
- BSP层的业务逻辑接口：完全具象，不应提供任何针对开发的抽象，只提供针对使用的抽象。

## 功能驱动层
- 主要负责封装IDF提供的接口，屏蔽一些做小项目时不关注的细节，方便二次开发。
- 组件以my_开头命名

## BSP层
- 基于功能驱动层和IDF原始接口，为已经DIY过的板子提供驱动程序。
- 组件以 bsp_板名称 命名
- 文件以 型号-核心板名称_拓展板名称 命名
- 函数以 Board-板子名称-Ctrl/App-下划线-大驼峰功能 命名

# 代码维护与使用原则

## 功能驱动层

### 使用
- 以单个组件为单位使用。

### 维护
- 确保代码能对修改关闭，对新增功能开放即可。
- 当新项目需要新功能，再去实现新接口。

## BSP层

### 使用
- 以核心板组件+拓展板组件组合使用。

### 维护
- BSP层一个文件一张板子，每个文件内都应实现两类接口：板载外设/业务逻辑。
 
- 板载外设接口一般不再修改，应基于PCB设计进行开发抽象，可用于实现新的业务逻辑。
- 板载外设接口要确保功能充分暴露，同时不要做多余的东西。
- 易错事项：多余的东西--比如对于ESP32核心板的板载外设，其初始化不应该包括wifi，因为板载外设只有uart-ch32。
- 易错事项：在多次调用的应用场景下，无法让视野完全脱离应用场景，导致esp32center的外设接口抽象出错。

- 业务逻辑即基于该板子实现的功能，应完全具象，完整实现某个非常针对性的功能。
- 开了一个新的项目，就补充一套新的接口，原先接口不做改动。
- 特别的对核心板而言，业务逻辑接口需要做到板载外设的程度，充分暴露接口，因为核心板本身就是一种模块。
- 而对拓展板而言，业务逻辑接口无需确保功能充分暴露，因为代码复用的需求小，如果有复用需求，也可以很快ctrl+cv。
- 易错事项：业务逻辑接口虽然在
